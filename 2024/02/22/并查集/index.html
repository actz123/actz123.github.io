<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>并查集 | Actz</title>
  <meta name="keywords" content=" 蓝桥杯备赛 ">
  <meta name="description" content="并查集 | Actz">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="https://actz123.github.io/about/index.html">
<meta property="og:site_name" content="Actz">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-02-20T15:00:40.000Z">
<meta property="article:modified_time" content="2024-02-20T15:00:40.706Z">
<meta property="article:author" content="zdx">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/b2.png">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0" ></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js" ></script>

<script src="/js/iconfont.js?v=1.1.0" ></script>

<meta name="generator" content="Hexo 7.1.1"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true" />
  <input id="theme_highlight_on" value="true" />
  <input id="theme_code_copy" value="true" />
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/b2.png"/>
</a>
<div class="author">
    <span>zdx</span>
</div>

<div class="icon">
    
        
    
        
            <a title="github"
               href="https://github.com/actz123"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            <a title="zhihu"
               href="https://www.zhihu.com/people/jaytp/activities"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-zhihu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="csdn"
               href="https://blog.csdn.net/qq_59218818?spm=1000.2115.3001.5343"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-csdn"></use>
                    </svg>
                
            </a>
        
    
        
    
        
    
        
            <a title="email"
               href="mailto:158533432118@163.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=2914598428&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="kugou"
               href="https://www.kugou.com/"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-kugou"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="neteasemusic"
               href="https://music.163.com/#/user/home?id=1674687562"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-neteasemusic"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(72)</small>
            
        </div>
    </li>
    
        
            
                
    <li>
        <div data-rel="蓝桥杯">
            <i class="fold iconfont icon-right"></i>
            蓝桥杯
            <small>(57)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;代码集合">
            
            代码集合
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第二章：基础算法">
            <i class="fold iconfont icon-right"></i>
            第二章：基础算法
            <small>(20)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第二章：基础算法&lt;---&gt;基础算法">
            
            基础算法
            <small>(14)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第二章：基础算法&lt;---&gt;排序">
            
            排序
            <small>(6)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第三章：搜索">
            
            第三章：搜索
            <small>(3)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第四章：动态规划">
            <i class="fold iconfont icon-right"></i>
            第四章：动态规划
            <small>(9)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第四章：动态规划&lt;---&gt;背包问题">
            
            背包问题
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第四章：动态规划&lt;---&gt;动态规划基础">
            
            动态规划基础
            <small>(4)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第四章：动态规划&lt;---&gt;树形DP">
            
            树形DP
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础">
            <i class="fold iconfont icon-right"></i>
            第一章：语言基础
            <small>(23)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础&lt;---&gt;编程基础">
            
            编程基础
            <small>(3)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础&lt;---&gt;函数">
            
            函数
            <small>(6)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础&lt;---&gt;基础数据结构">
            
            基础数据结构
            <small>(5)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础&lt;---&gt;类的定义和使用">
            
            类的定义和使用
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础&lt;---&gt;实践应用">
            
            实践应用
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础&lt;---&gt;选择结构">
            
            选择结构
            <small>(2)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;第一章：语言基础&lt;---&gt;循环结构">
            
            循环结构
            <small>(3)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯&lt;---&gt;A学习路线">
            
            A学习路线
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
                
    <li>
        <div data-rel="蓝桥杯冲刺营">
            <i class="fold iconfont icon-right"></i>
            蓝桥杯冲刺营
            <small>(13)</small>
        </div>
        
            <ul class="sub hide">
                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;1.手算和思维题">
            
            1.手算和思维题
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;10.动态规划">
            
            10.动态规划
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;11.图论入门">
            
            11.图论入门
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;12.简单数论">
            
            12.简单数论
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;13.组合数学">
            
            13.组合数学
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;2.递归与递推">
            
            2.递归与递推
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;3.搜索算法">
            
            3.搜索算法
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;4.枚举和尺取法">
            
            4.枚举和尺取法
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;5.差分与前缀和">
            
            5.差分与前缀和
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;6.并查集">
            
            6.并查集
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;7.二分算法">
            
            7.二分算法
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;8.工具函数模板">
            
            8.工具函数模板
            <small>(1)</small>
        </div>
        
    </li>

                
                    
    <li>
        <div data-rel="蓝桥杯冲刺营&lt;---&gt;9.贪心算法">
            
            9.贪心算法
            <small>(1)</small>
        </div>
        
    </li>

                
            </ul>
        
    </li>

            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
        
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  site_url"
               
               href="/about">About</a>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="72">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>蓝桥杯备赛</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>蓝桥杯学习路线</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All "
           href="/2024/02/27/%E9%A1%BA%E5%BA%8F%E8%A1%A8/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="顺序表">顺序表</span>
            <span class="post-date" title="2024-02-27 15:12:07">2024/02/27</span>
        </a>
        
        
        <a  class="All 蓝桥杯 代码集合 "
           href="/2024/02/27/%E6%8E%92%E5%BA%8F%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="排序示例代码">排序示例代码</span>
            <span class="post-date" title="2024-02-27 14:47:13">2024/02/27</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 13.组合数学 "
           href="/2024/02/22/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="组合数学">组合数学</span>
            <span class="post-date" title="2024-02-22 17:42:43">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 12.简单数论 "
           href="/2024/02/22/%E7%AE%80%E5%8D%95%E6%95%B0%E8%AE%BA/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="简单数论">简单数论</span>
            <span class="post-date" title="2024-02-22 17:41:40">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 11.图论入门 "
           href="/2024/02/22/%E5%9B%BE%E8%AE%BA%E5%85%A5%E9%97%A8/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="图论入门">图论入门</span>
            <span class="post-date" title="2024-02-22 17:40:17">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 10.动态规划 "
           href="/2024/02/22/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="动态规划">动态规划</span>
            <span class="post-date" title="2024-02-22 17:39:09">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 9.贪心算法 "
           href="/2024/02/22/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="贪心算法">贪心算法</span>
            <span class="post-date" title="2024-02-22 17:38:20">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 8.工具函数模板 "
           href="/2024/02/22/%E5%B7%A5%E5%85%B7%E5%87%BD%E6%95%B0%E6%A8%A1%E6%9D%BF/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="工具函数模板">工具函数模板</span>
            <span class="post-date" title="2024-02-22 17:36:51">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 7.二分算法 "
           href="/2024/02/22/%E4%BA%8C%E5%88%86%E7%AE%97%E6%B3%95/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="二分算法">二分算法</span>
            <span class="post-date" title="2024-02-22 17:35:12">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 6.并查集 "
           href="/2024/02/22/%E5%B9%B6%E6%9F%A5%E9%9B%86/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="并查集">并查集</span>
            <span class="post-date" title="2024-02-22 17:34:10">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 5.差分与前缀和 "
           href="/2024/02/22/%E5%B7%AE%E5%88%86%E4%B8%8E%E5%89%8D%E7%BC%80%E5%92%8C/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="差分与前缀和">差分与前缀和</span>
            <span class="post-date" title="2024-02-22 17:32:53">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 4.枚举和尺取法 "
           href="/2024/02/22/%E6%9E%9A%E4%B8%BE%E5%92%8C%E5%B0%BA%E5%8F%96%E6%B3%95/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="枚举和尺取法">枚举和尺取法</span>
            <span class="post-date" title="2024-02-22 17:31:18">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 3.搜索算法 "
           href="/2024/02/22/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="搜索算法">搜索算法</span>
            <span class="post-date" title="2024-02-22 16:52:56">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 2.递归与递推 "
           href="/2024/02/22/%E9%80%92%E5%BD%92%E4%B8%8E%E9%80%92%E6%8E%A8/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="递归与递推">递归与递推</span>
            <span class="post-date" title="2024-02-22 16:51:19">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯冲刺营 1.手算和思维题 "
           href="/2024/02/22/%E6%89%8B%E7%AE%97%E4%B8%8E%E6%80%9D%E7%BB%B4%E9%A2%98/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="手算与思维题">手算与思维题</span>
            <span class="post-date" title="2024-02-22 16:47:40">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 树形DP "
           href="/2024/02/22/%E8%87%AA%E4%B8%8A%E8%80%8C%E4%B8%8B%E6%A0%91%E5%BD%A2DP/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="自上而下树形DP">自上而下树形DP</span>
            <span class="post-date" title="2024-02-22 14:47:40">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 背包问题 "
           href="/2024/02/22/%E4%BA%8C%E7%BB%B4%E8%B4%B9%E7%94%A8%E8%83%8C%E5%8C%85-%E5%88%86%E7%BB%84%E8%83%8C%E5%8C%85/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="二维费用背包&amp;分组背包">二维费用背包&amp;分组背包</span>
            <span class="post-date" title="2024-02-22 14:38:06">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 背包问题 "
           href="/2024/02/22/%E5%8D%95%E8%B0%83%E9%98%9F%E5%88%97%E4%BC%98%E5%A4%9A%E9%87%8D%E8%83%8C%E5%8C%85/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="单调队列优多重背包">单调队列优多重背包</span>
            <span class="post-date" title="2024-02-22 14:34:49">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 背包问题 "
           href="/2024/02/22/%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="完全背包">完全背包</span>
            <span class="post-date" title="2024-02-22 14:33:12">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 背包问题 "
           href="/2024/02/22/01%E8%83%8C%E5%8C%85/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="01背包">01背包</span>
            <span class="post-date" title="2024-02-22 14:30:56">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 动态规划基础 "
           href="/2024/02/22/LCS/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="LCS">LCS</span>
            <span class="post-date" title="2024-02-22 14:29:14">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 动态规划基础 "
           href="/2024/02/22/LIS/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="LIS">LIS</span>
            <span class="post-date" title="2024-02-22 14:27:15">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 动态规划基础 "
           href="/2024/02/22/%E4%BA%8C%E7%BB%B4DP/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="二维DP">二维DP</span>
            <span class="post-date" title="2024-02-22 14:24:58">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第四章：动态规划 动态规划基础 "
           href="/2024/02/22/%E7%BA%BF%E6%80%A7DP/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="线性DP">线性DP</span>
            <span class="post-date" title="2024-02-22 14:08:16">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第三章：搜索 "
           href="/2024/02/22/DFS-%E5%89%AA%E6%9E%9D/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="DFS-剪枝">DFS-剪枝</span>
            <span class="post-date" title="2024-02-22 11:30:09">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第三章：搜索 "
           href="/2024/02/22/DFS-%E5%9B%9E%E6%BA%AF/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="DFS-回溯">DFS-回溯</span>
            <span class="post-date" title="2024-02-22 11:28:36">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第三章：搜索 "
           href="/2024/02/22/DFS-%E5%9F%BA%E7%A1%80/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="DFS-基础">DFS-基础</span>
            <span class="post-date" title="2024-02-22 11:26:05">2024/02/22</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E4%BD%8D%E8%BF%90%E7%AE%97/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="位运算">位运算</span>
            <span class="post-date" title="2024-02-21 23:20:14">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E6%9E%84%E9%80%A0/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="构造">构造</span>
            <span class="post-date" title="2024-02-21 23:17:24">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E5%80%8D%E5%A2%9E/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="倍增">倍增</span>
            <span class="post-date" title="2024-02-21 23:16:15">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E4%BA%8C%E5%88%86/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="二分">二分</span>
            <span class="post-date" title="2024-02-21 23:14:24">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E5%8F%8C%E6%8C%87%E9%92%88/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="双指针">双指针</span>
            <span class="post-date" title="2024-02-21 23:12:32">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E8%B4%AA%E5%BF%83/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="贪心">贪心</span>
            <span class="post-date" title="2024-02-21 23:10:38">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E7%A6%BB%E6%95%A3%E5%8C%96/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="离散化">离散化</span>
            <span class="post-date" title="2024-02-21 23:09:45">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E5%B7%AE%E5%88%86/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="差分">差分</span>
            <span class="post-date" title="2024-02-21 23:08:31">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E5%89%8D%E7%BC%80%E5%92%8C/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="前缀和">前缀和</span>
            <span class="post-date" title="2024-02-21 23:06:32">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="进制转换">进制转换</span>
            <span class="post-date" title="2024-02-21 23:04:53">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E9%80%92%E5%BD%92/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="递归">递归</span>
            <span class="post-date" title="2024-02-21 23:03:03">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E6%A8%A1%E6%8B%9F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="模拟">模拟</span>
            <span class="post-date" title="2024-02-21 23:01:43">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E6%9E%9A%E4%B8%BE/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="枚举">枚举</span>
            <span class="post-date" title="2024-02-21 23:01:00">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 基础算法 "
           href="/2024/02/21/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="基础算法">基础算法</span>
            <span class="post-date" title="2024-02-21 22:59:19">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 排序 "
           href="/2024/02/21/%E6%A1%B6%E6%8E%92%E5%BA%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="桶排序">桶排序</span>
            <span class="post-date" title="2024-02-21 22:53:07">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 排序 "
           href="/2024/02/21/%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="归并排序">归并排序</span>
            <span class="post-date" title="2024-02-21 22:51:53">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 排序 "
           href="/2024/02/21/%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="快速排序">快速排序</span>
            <span class="post-date" title="2024-02-21 22:50:53">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 排序 "
           href="/2024/02/21/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="插入排序">插入排序</span>
            <span class="post-date" title="2024-02-21 22:50:09">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 排序 "
           href="/2024/02/21/%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="选择排序">选择排序</span>
            <span class="post-date" title="2024-02-21 22:49:14">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第二章：基础算法 排序 "
           href="/2024/02/21/%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="冒泡排序">冒泡排序</span>
            <span class="post-date" title="2024-02-21 22:47:58">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 实践应用 "
           href="/2024/02/21/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="二分查找">二分查找</span>
            <span class="post-date" title="2024-02-21 22:44:25">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 实践应用 "
           href="/2024/02/21/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="自定义排序">自定义排序</span>
            <span class="post-date" title="2024-02-21 22:43:04">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 类的定义和使用 "
           href="/2024/02/21/%E5%B8%B8%E7%94%A8%E5%BA%93%E5%87%BD%E6%95%B0/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="常用库函数">常用库函数</span>
            <span class="post-date" title="2024-02-21 22:41:37">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 类的定义和使用 "
           href="/2024/02/21/%E7%B1%BB%E7%9A%84%E5%AE%9A%E4%B9%89%E5%92%8C%E4%BD%BF%E7%94%A8/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="类的定义和使用">类的定义和使用</span>
            <span class="post-date" title="2024-02-21 22:40:08">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 函数 "
           href="/2024/02/21/itertools/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="itertools">itertools</span>
            <span class="post-date" title="2024-02-21 22:38:37">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 函数 "
           href="/2024/02/21/functool/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="functool">functool</span>
            <span class="post-date" title="2024-02-21 22:37:47">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 函数 "
           href="/2024/02/21/heapq/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="heapq">heapq</span>
            <span class="post-date" title="2024-02-21 22:36:26">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 函数 "
           href="/2024/02/21/collections/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="collections">collections</span>
            <span class="post-date" title="2024-02-21 22:34:35">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 函数 "
           href="/2024/02/21/math/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="math">math</span>
            <span class="post-date" title="2024-02-21 22:33:49">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 函数 "
           href="/2024/02/21/%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89%E4%B8%8E%E4%BD%BF%E7%94%A8/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="函数定义与使用">函数定义与使用</span>
            <span class="post-date" title="2024-02-21 22:30:56">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 基础数据结构 "
           href="/2024/02/21/%E6%97%A5%E6%9C%9F%E5%92%8C%E6%97%B6%E9%97%B4/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="日期和时间">日期和时间</span>
            <span class="post-date" title="2024-02-21 22:26:51">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 基础数据结构 "
           href="/2024/02/21/%E9%9B%86%E5%90%88/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="集合">集合</span>
            <span class="post-date" title="2024-02-21 22:25:20">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 基础数据结构 "
           href="/2024/02/21/%E5%AD%97%E5%85%B8/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="字典">字典</span>
            <span class="post-date" title="2024-02-21 22:23:28">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 基础数据结构 "
           href="/2024/02/21/%E5%AD%97%E7%AC%A6%E4%B8%B2/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="字符串">字符串</span>
            <span class="post-date" title="2024-02-21 22:14:01">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 基础数据结构 "
           href="/2024/02/21/%E5%88%97%E8%A1%A8%E5%92%8C%E5%85%83%E7%BB%84/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="列表和元组">列表和元组</span>
            <span class="post-date" title="2024-02-21 22:05:06">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 循环结构 "
           href="/2024/02/21/%E5%BE%AA%E7%8E%AF%E5%B5%8C%E5%A5%97/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="循环嵌套">循环嵌套</span>
            <span class="post-date" title="2024-02-21 22:02:01">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 循环结构 "
           href="/2024/02/21/while%E8%AF%AD%E5%8F%A5/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="while语句">while语句</span>
            <span class="post-date" title="2024-02-21 22:00:16">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 循环结构 "
           href="/2024/02/21/for%E8%AF%AD%E5%8F%A5/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="for语句">for语句</span>
            <span class="post-date" title="2024-02-21 21:55:17">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 选择结构 "
           href="/2024/02/21/if%E8%AF%AD%E5%8F%A5/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="if语句">if语句</span>
            <span class="post-date" title="2024-02-21 21:52:28">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 选择结构 "
           href="/2024/02/21/%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%E5%BC%8F/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="条件表达式和逻辑表达式">条件表达式和逻辑表达式</span>
            <span class="post-date" title="2024-02-21 21:45:26">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 编程基础 "
           href="/2024/02/21/%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="常量、变量与运算符">常量、变量与运算符</span>
            <span class="post-date" title="2024-02-21 21:40:30">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 编程基础 "
           href="/2024/02/21/Python%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="Python输入输出">Python输入输出</span>
            <span class="post-date" title="2024-02-21 21:38:17">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 第一章：语言基础 编程基础 "
           href="/2024/02/21/Python%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%B8%8E%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"
           data-tag="蓝桥杯备赛"
           data-author="" >
            <span class="post-title" title="Python开发环境与基础知识">Python开发环境与基础知识</span>
            <span class="post-date" title="2024-02-21 21:24:42">2024/02/21</span>
        </a>
        
        
        <a  class="All 蓝桥杯 A学习路线 "
           href="/2024/02/21/%E8%93%9D%E6%A1%A5%E6%9D%AF%E7%9F%A5%E8%AF%86%E8%AE%B0%E5%BD%95/"
           data-tag="蓝桥杯学习路线"
           data-author="" >
            <span class="post-title" title="蓝桥杯知识记录">蓝桥杯知识记录</span>
            <span class="post-date" title="2024-02-21 20:39:36">2024/02/21</span>
        </a>
        
        
        <a  class="All "
           href="/2024/02/20/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2024-02-20 22:18:48">2024/02/20</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-并查集" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">并查集</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="蓝桥杯冲刺营">蓝桥杯冲刺营</a> > 
            
            <a  data-rel="蓝桥杯冲刺营&lt;---&gt;6.并查集">6.并查集</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color1">蓝桥杯备赛</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2024-02-22 17:35:45'>2024-02-22 17:34</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            Views 👀 :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86"><span class="toc-text">并查集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-text">知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86-1"><span class="toc-text">并查集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E7%9A%84%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84"><span class="toc-text">并查集的存储结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2"><span class="toc-text">查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E5%BE%84%E5%8E%8B%E7%BC%A9"><span class="toc-text">路径压缩</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E5%B9%B6"><span class="toc-text">合并</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E6%9F%A5%E9%9B%86%E7%9B%B8%E5%85%B3%E9%A2%98%E7%9B%AE%E8%AE%B2%E8%A7%A3"><span class="toc-text">并查集相关题目讲解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%88%E6%A0%B9%E6%A4%8D%E7%89%A9"><span class="toc-text">合根植物</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E7%BB%84"><span class="toc-text">修改数组</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text">总结</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h1><p>并查集是我认为最巧妙优雅的一种数据结构，他主要适用于解决元素分组和不相交集合的合并和查询问题。</p>
<p>并查集也非常简单，但是，并查集在比赛中非常常用，能够极大的降低算法复杂度得数据结构，是必须要掌握熟练的。</p>
<p>本节课的难度相对较低，无论是实现方式还是算法原理。</p>
<h3 id="知识点"><a href="#知识点" class="headerlink" title="知识点"></a>知识点</h3><p>1.并查集的原理与实现方式 2.并查集的路径压缩 3.启发式合并</p>
<h4 id="并查集-1"><a href="#并查集-1" class="headerlink" title="并查集"></a>并查集</h4><p>并查集是大量的树（单个节点也算是树）经过合并生成一系列家族森林的过程。</p>
<p>每个集合也就是每棵树都是由根节点确定，也可以理解为每个家族的族长就是根节点。</p>
<p>举个数字和字母的例子如下。</p>
<p><strong>初始森林：</strong> <img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/8d24aa87dbdd7a5823ff707ccd72b82a-0.jpeg" alt="图片描述"></p>
<p><strong>经过的一系列合并后的状态（不唯一，举个栗子）：</strong></p>
<p><img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/626f64ab4d60b09b29e811ff903f10c6-0.jpeg" alt="图片描述"></p>
<p><strong>最终合并后的状态：</strong></p>
<p>注：示意图的位置与存储物理位置无关，只代表逻辑关系。</p>
<p><img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/f4ba4e2ff16c8ffb15e361188d5c71b7-0.jpeg" alt="图片描述"></p>
<h4 id="并查集的存储结构"><a href="#并查集的存储结构" class="headerlink" title="并查集的存储结构"></a>并查集的存储结构</h4><p>并查集采用数组表示整个森林，初始时每个森林的树根为自己。</p>
<p>C++ 存储与初始化：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="keyword">define</span> Maxn 200</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 假设所需数量为200</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> fa[Maxn+<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>;i&lt;=Maxn; i++)</span><br><span class="line">        fa[i]=i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Python 存储与初始化：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Maxn = <span class="number">200</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设所需的数量为200</span></span><br><span class="line"></span><br><span class="line">fa = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init</span>():</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(Maxn + <span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">        fa.append(i)</span><br></pre></td></tr></table></figure>

<p>Java 存储与初始化：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">Maxn</span> <span class="operator">=</span> <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span> fa[]=<span class="keyword">new</span> <span class="title class_">int</span>[Maxn+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span> ;i&lt;=Maxn;i++)</span><br><span class="line"></span><br><span class="line">        fa[i]=i;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h4><p>一般用递归法实现对代表元素的查询：递归访问父节点，直至根节点（根节点的标志就是父节点是本身）。</p>
<p>根节点相同的两个元素属于同一个集合，上面也说到了。所以判断 <code>A</code>，<code>B</code> 是否属于一个集合直接判断 <code>find(A)</code>和 <code>find(B)</code>是否相同即可。</p>
<p>由于代码比较简单，我们先给出查询的代码：</p>
<p>C++ 查询：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fa[x] == x)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Python 查询：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> fa[x] == x:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> find(fa[x])</span><br></pre></td></tr></table></figure>

<p>Java 查询：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span>  <span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(fa[x] == x)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我们这里有一个问题，当树的链很长时，比如：</p>
<p><img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/567d8282a596647b92af905396d88ee4-0.jpeg" alt="图片描述"></p>
<p>如果每次都查询最后一个，那么他就要经过多次递归，非常消耗时间，这时候我们就要引入路径压缩。</p>
<h4 id="路径压缩"><a href="#路径压缩" class="headerlink" title="路径压缩"></a>路径压缩</h4><p>路径压缩是为了解决当树的高度过高的时候，提高查询时效的方法。</p>
<p>解决方式也很简单，在递归的同时将路径压缩，那么上面的图经过一次查询后的效果如下。</p>
<p><img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/58877fc5b4c8482c0c5c44ef1aeb8adf-0.jpeg" alt="图片描述"></p>
<p>其实，实现方式也非常简单，只需要将查询代码修改即可，代码如下：</p>
<p>C++ 查询带路径压缩：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == fa[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        fa[x] = <span class="built_in">find</span>(fa[x]);</span><br><span class="line">        <span class="comment">//父节点设为根节点</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> fa[x];</span><br><span class="line">        <span class="comment">//返回父节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Python 查询带路径压缩：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> fa[x] == x:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line"></span><br><span class="line">        fa[x] = find(fa[x]);</span><br><span class="line">        <span class="comment">#父节点设为根节点</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>  fa[x]</span><br><span class="line">        <span class="comment"># 返回父节点</span></span><br></pre></td></tr></table></figure>

<p>Java 查询带路径压缩：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span>  <span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == fa[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        fa[x] = <span class="built_in">find</span>(fa[x]);</span><br><span class="line">        <span class="comment">//父节点设为根节点</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> fa[x];</span><br><span class="line">        <span class="comment">//返回父节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h4><p>合并的方式很简单，就是把一颗树的根节点设置为另一棵树的根节点即可。</p>
<p>还有一种方式是按秩合并，但是我们使用路径压缩时间复杂度就已经很低了，如果在引入 <code>rank</code> 相对会有些复杂。而且对于我们的使用路径压缩一种方式就已经足够。并且路径压缩和按秩合并一起使用时会影响 <code>rank</code> 准确性，所以我们采用普通的合并与优化后的查找即可。</p>
<p><img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/15fd5c72e7f73740bd1cc2ab4c0e3bf7-0.jpeg" alt="图片描述"></p>
<p>合并后：</p>
<p><img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/29a76e16a78eec6765c066f0158b236b-0.jpeg" alt="图片描述"></p>
<p>C++ 合并：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fa[<span class="built_in">find</span>(i)] = <span class="built_in">find</span>(j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Python 合并：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">x,y</span>):</span><br><span class="line"></span><br><span class="line">    fa[find(x)] = find(y)</span><br></pre></td></tr></table></figure>

<p>Java 合并：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fa[<span class="built_in">find</span>(i)] = <span class="built_in">find</span>(j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>合并优化：</strong></p>
<p>除此之外还有一个优化是启发式合并，其实这个启发式是泛指有很多的合并算法都叫启发式合并，我们这里讲其中一种常用的启发式合并。合并时，选择哪棵树的根节点作为新树的根节点会影响未来操作的复杂度。我们可以按照子树大小去合并，小的合并到大的，以免发生退化。所以启发式合并的原理是在集合合并时将小的集合合并到大的集合里，也可以使 <code>find</code> 操作复杂度降低到  �(����)<em>O</em>(<em>l<strong>o</strong>g**n</em>)，在集合合并时还要增加一个更新集合大小的操作。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">C++</span><br><span class="line"><span class="type">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span><span class="comment">//启发式合并</span></span><br><span class="line">&#123;</span><br><span class="line">    x=find(x);</span><br><span class="line">    y=find(y);</span><br><span class="line">    <span class="keyword">if</span>(x!=y)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(sz[x]&lt;sz[y])</span><br><span class="line">            swap(x,y);</span><br><span class="line">        sz[x]+=sz[y];</span><br><span class="line">        fa[y]=x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Java</span><br><span class="line">    public <span class="type">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        x = find(x);</span><br><span class="line">        y = find(y);</span><br><span class="line">        <span class="keyword">if</span> (x != y) &#123;</span><br><span class="line">            <span class="keyword">if</span> (sz[x] &lt; sz[y]) &#123;</span><br><span class="line">                swap(x, y);</span><br><span class="line">            &#125;</span><br><span class="line">            sz[x] += sz[y];</span><br><span class="line">            fa[y] = x;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">python</span><br><span class="line"></span><br><span class="line">def <span class="title function_">merge</span><span class="params">(x, y, sz, fa)</span>:</span><br><span class="line">    x = find(x, fa)</span><br><span class="line">    y = find(y, fa)</span><br><span class="line">    <span class="keyword">if</span> x != y:</span><br><span class="line">        <span class="keyword">if</span> sz[x] &lt; sz[y]:</span><br><span class="line">            swap(x, y, fa)</span><br><span class="line">        sz[x] += sz[y]</span><br><span class="line">        fa[y] = x</span><br></pre></td></tr></table></figure>

<p>如果是一般的并查集题目用路径压缩就可以了，当然两种优化都用的话复杂度可以降得更低。两种优化都使用的话单次操作的复杂度才是  �(�)<em>O</em>(<em>α</em>)</p>
<h3 id="并查集相关题目讲解"><a href="#并查集相关题目讲解" class="headerlink" title="并查集相关题目讲解"></a>并查集相关题目讲解</h3><h4 id="合根植物"><a href="#合根植物" class="headerlink" title="合根植物"></a>合根植物</h4><p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/110/learning/">题目链接</a></p>
<p>难度: 简单</p>
<p>标签: 并查集, 2017, 国赛</p>
<p><strong>题目描述:</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">w 星球的一个种植园，被分成 m×n 个小格子（东西方向 m 行，南北方向 n 列）。每个格子里种了一株合根植物。</span><br><span class="line"></span><br><span class="line">这种植物有个特点，它的根可能会沿着南北或东西方向伸展，从而与另一个格子的植物合成为一体。</span><br><span class="line"></span><br><span class="line">如果我们告诉你哪些小格子间出现了连根现象，你能说出这个园中一共有多少株合根植物吗？</span><br></pre></td></tr></table></figure>

<p><strong>输入描述:</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">第一行，两个整数 m,n，用空格分开，表示格子的行数、列数（1≤m,n≤1000）。</span><br><span class="line"></span><br><span class="line">接下来一行，一个整数 k (0≤k≤105 )，表示下面还有 k 行数据。</span><br><span class="line"></span><br><span class="line">接下来 k 行，每行两个整数 a，b，表示编号为 a 的小格子和编号为 b 的小格子合根了。</span><br><span class="line"></span><br><span class="line">格子的编号一行一行，从上到下，从左到右编号。</span><br><span class="line"></span><br><span class="line">比如：5×4 的小格子，编号：</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>行列</th>
<th>①</th>
<th>②</th>
<th>③</th>
<th>④</th>
</tr>
</thead>
<tbody><tr>
<td>①</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>②</td>
<td>5</td>
<td>6</td>
<td>7</td>
<td>8</td>
</tr>
<tr>
<td>③</td>
<td>9</td>
<td>10</td>
<td>11</td>
<td>12</td>
</tr>
<tr>
<td>④</td>
<td>13</td>
<td>14</td>
<td>15</td>
<td>16</td>
</tr>
<tr>
<td>⑤</td>
<td>17</td>
<td>18</td>
<td>19</td>
<td>20</td>
</tr>
</tbody></table>
<p><strong>输出描述:</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出植物数量。</span><br></pre></td></tr></table></figure>

<p><strong>输入输出样例:</strong></p>
<p><strong>示例:</strong></p>
<p><strong>输入:</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">5 4</span><br><span class="line">16</span><br><span class="line">2 3</span><br><span class="line">1 5</span><br><span class="line">5 9</span><br><span class="line">4 8</span><br><span class="line">7 8</span><br><span class="line">9 10</span><br><span class="line">10 11</span><br><span class="line">11 12</span><br><span class="line">10 14</span><br><span class="line">12 16</span><br><span class="line">14 18</span><br><span class="line">17 18</span><br><span class="line">15 19</span><br><span class="line">19 20</span><br><span class="line">9 13</span><br><span class="line">13 17</span><br></pre></td></tr></table></figure>

<p><strong>输出:</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure>

<p>样例图例如下：</p>
<p><img src="/./../imgs/%E5%B9%B6%E6%9F%A5%E9%9B%86/uid1580206-20210202-1612249467438.png" alt="图片描述"></p>
<p><strong>运行限制:</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">最大运行时间：1s</span><br><span class="line">最大运行内存: 256M</span><br></pre></td></tr></table></figure>

<p><strong>题目解析：</strong></p>
<p>这个题就是一个模板并查集的题目，每次合根就是一次 <code>Merge</code>。</p>
<p>最后答案就是看有多少个根即可，那么就是看有多少个<code>fa[x]=x</code>即可。</p>
<p>直接按照题目编写即可，部分解析直接写进题目。</p>
<p><strong>答案解析：</strong></p>
<p>C++ 描述：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="meta"># <span class="keyword">define</span> Maxn 2000000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 假设所需数量为200</span></span><br><span class="line"><span class="type">int</span> fa[Maxn+<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i&lt;=Maxn; i++)</span><br><span class="line">        fa[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == fa[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        fa[x] = <span class="built_in">find</span>(fa[x]);</span><br><span class="line">        <span class="comment">//父节点设为根节点</span></span><br><span class="line">        <span class="keyword">return</span> fa[x];</span><br><span class="line">        <span class="comment">//返回父节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fa[<span class="built_in">find</span>(i)] = <span class="built_in">find</span>(j);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> n,m; <span class="comment">//n行，m列</span></span><br><span class="line"><span class="type">int</span> k; <span class="comment">//k次合根</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;k;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=k; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="built_in">merge</span>(a,b); <span class="comment">//合根</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n*m; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(fa[i]==i) <span class="comment">//找根节点</span></span><br><span class="line">        &#123;</span><br><span class="line">            ans++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Python 描述：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Maxn = <span class="number">2000000</span></span><br><span class="line"><span class="comment"># 假设所需的数量为200</span></span><br><span class="line">fa = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(Maxn + <span class="number">1</span>):</span><br><span class="line">        fa.append(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> fa[x] == x:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line"></span><br><span class="line">        fa[x] = find(fa[x])</span><br><span class="line">        <span class="comment">#父节点设为根节点</span></span><br><span class="line">        <span class="keyword">return</span>  fa[x]</span><br><span class="line">        <span class="comment"># 返回父节点</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">x,y</span>):</span><br><span class="line"></span><br><span class="line">    fa[find(x)] = find(y)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    n,m=<span class="built_in">input</span>().split()</span><br><span class="line">    k=<span class="built_in">input</span>()</span><br><span class="line">    n=<span class="built_in">int</span>(n)</span><br><span class="line">    m=<span class="built_in">int</span>(m)</span><br><span class="line">    k=<span class="built_in">int</span>(k)</span><br><span class="line">    Maxn=m*n+<span class="number">100</span></span><br><span class="line">    init()</span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">        a,b= <span class="built_in">input</span>().split()</span><br><span class="line">        a=<span class="built_in">int</span>(a)</span><br><span class="line">        b=<span class="built_in">int</span>(b)</span><br><span class="line">        merge(a,b)</span><br><span class="line">    ans=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m*n): <span class="comment">#从0开始</span></span><br><span class="line">        index=i+<span class="number">1</span> <span class="comment">#调整一下，应该是从1开始</span></span><br><span class="line">        <span class="keyword">if</span>(fa[index]==index):</span><br><span class="line">            ans+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(ans)</span><br></pre></td></tr></table></figure>

<p>Java 描述：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>  <span class="type">int</span> Maxn;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> fa[];</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span> ;i&lt;=Maxn;i++)</span><br><span class="line">            fa[i]=i;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span>  <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == fa[x])</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            fa[x] = find(fa[x]);</span><br><span class="line">            <span class="comment">//父节点设为根节点</span></span><br><span class="line">            <span class="keyword">return</span> fa[x];</span><br><span class="line">            <span class="comment">//返回父节点</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span><br><span class="line">    &#123;</span><br><span class="line">        fa[find(i)] = find(j);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> n,m; <span class="comment">//n行，m列</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> k; <span class="comment">//k次合根</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        n=in.nextInt();</span><br><span class="line">        m=in.nextInt();</span><br><span class="line">        k=in.nextInt();</span><br><span class="line">        Maxn=m*n;</span><br><span class="line">        fa=<span class="keyword">new</span> <span class="title class_">int</span>[Maxn+<span class="number">100</span>];</span><br><span class="line">        init();</span><br><span class="line">        <span class="type">int</span> a,b;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=k; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            a=in.nextInt();</span><br><span class="line">            b=in.nextInt();</span><br><span class="line">            merge(a,b);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n*m; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(fa[i]==i)</span><br><span class="line">            &#123;</span><br><span class="line">                ans++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="修改数组"><a href="#修改数组" class="headerlink" title="修改数组"></a>修改数组</h4><p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problems/185/learning/">题目链接</a></p>
<p>难度: 中等</p>
<p>标签: 并查集, 2019, 省赛</p>
<p><strong>题目描述:</strong> 给定一个长度为 �<em>N</em> 的数组 �&#x3D;[�1,�2,⋅⋅⋅,��]<em>A</em>&#x3D;[<em>A</em>1,<em>A</em>2,⋅⋅⋅,<em>A**N</em>]，数组中有可能有重复出现的整数。</p>
<p>现在小明要按以下方法将其修改为没有重复整数的数组。小明会依次修改�2,�3,⋅⋅⋅,��<em>A</em>2,<em>A</em>3,⋅⋅⋅,<em>A**N</em>。</p>
<p>当修改 ��<em>A**i</em> 时，小明会检查 ��<em>A**i</em> 是否在 �1<em>A</em>1 ∼ ��−1<em>A**i</em>−1 中出现过。如果出现过，则小明会给 ��<em>A**i</em> 加上 1 ；如果新的 ��<em>A**i</em> 仍在之前出现过，小明会持续给 ��<em>A**i</em> 加 1 ，直 到 ��<em>A**i</em> 没有在 �1<em>A</em>1 ∼ ��−1<em>A**i</em>−1 中出现过。</p>
<p>当 ��<em>A**N</em> 也经过上述修改之后，显然 �<em>A</em> 数组中就没有重复的整数了。</p>
<p>现在给定初始的 �<em>A</em> 数组，请你计算出最终的 �<em>A</em> 数组。</p>
<p><strong>输入:</strong></p>
<p>第一行包含一个整数 �<em>N</em>。</p>
<p>第二行包含 �<em>N</em> 个整数 �1,�2,⋅⋅⋅,��<em>A</em>1,<em>A</em>2,⋅⋅⋅,<em>A**N</em>。</p>
<p>其中，1≤�≤105，1≤��≤1061≤<em>N</em>≤105，1≤<em>A**i</em>≤106。</p>
<p><strong>输出：</strong></p>
<p>输出 �<em>N</em> 个整数，依次是最终的 �1,�2,⋅⋅⋅,��<em>A</em>1,<em>A</em>2,⋅⋅⋅,<em>A**N</em>。</p>
<p><strong>输入输出样例:</strong></p>
<p>输入</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">2 1 1 3 4</span><br></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2 1 3 4 5</span><br></pre></td></tr></table></figure>

<p><strong>运行限制:</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">最大运行时间：1s</span><br><span class="line">最大运行内存: 128M</span><br></pre></td></tr></table></figure>

<p><strong>题目解析：</strong></p>
<p>第一步，先初始化并查集。</p>
<p>第二步，读入数组并作如下处理：</p>
<p>如果这数字在之前没出现过那么他的值应该就是自己，并将其加入集合，此后再出现这个数字那么就要输出这个数字加 11，所以将这个数字的根节点设置为这个数字+1+1 即可。</p>
<p>如果这个数字之前出现过那么这个数字应该变成根节点的值，根节点的值是之前出现过的值加+1+1。</p>
<p>然后重复简单的逻辑即可，现在是维护一个之前出现过的集合，每个出现过的数字会把根节点设置为比他大 11 的数字，重复这个过程即可完成题意。</p>
<p>我们之前说过，因为输入输出是分开的，这里直接输出就行，不必在使用数组存储。</p>
<p>比如样例：</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">2 1 1 3 4</span><br><span class="line"></span><br><span class="line">首先因为 2 没出现过现在，所以初始化后的 fa[2] 等于2</span><br><span class="line"></span><br><span class="line">所以直接输出2 即可。</span><br><span class="line"></span><br><span class="line">此时 2 已经出现过了，下次遇见2就要输出3，所以这里我们使fa[2]等于3</span><br><span class="line"></span><br><span class="line">或者使用merge(2,3);</span><br><span class="line"></span><br><span class="line">然后输入1，因为1 也没有出现过，所以重复 2 的操作即可。</span><br><span class="line"></span><br><span class="line">输出fa[1]。</span><br><span class="line"></span><br><span class="line">令fa[1]=2，但是fa[2]=3,因为2也出现过</span><br><span class="line"></span><br><span class="line">这样fa[1]=fa[2]=3</span><br><span class="line"></span><br><span class="line">当然这里只需要执行merge(2,3)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">然后输入1，因为1 之前出现过，而且他的值我们之前也处理好了，直接输出即可。</span><br><span class="line"></span><br><span class="line">输出fa[1],即3。</span><br><span class="line"></span><br><span class="line">使用merge(3,4)</span><br><span class="line"></span><br><span class="line">然后重复上述过程，代码如下：</span><br><span class="line"></span><br><span class="line">        输入X :Input(X)</span><br><span class="line"></span><br><span class="line">        找到根节点: X=find(X);</span><br><span class="line"></span><br><span class="line">        输出应该是多少：Print(X)</span><br><span class="line"></span><br><span class="line">        将根节点加+1处理：merge(X,X+1);</span><br></pre></td></tr></table></figure>

<p><strong>答案解析：</strong></p>
<p>C++ 描述：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="meta"># <span class="keyword">define</span> Maxn 2000000</span></span><br><span class="line"><span class="comment">// 假设所需数量为2000000</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> fa[Maxn+<span class="number">1</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">init</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i =<span class="number">0</span>; i&lt;=Maxn; i++)</span><br><span class="line">        fa[i]=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x == fa[x])</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        fa[x] = <span class="built_in">find</span>(fa[x]);</span><br><span class="line">        <span class="comment">//父节点设为根节点</span></span><br><span class="line">        <span class="keyword">return</span> fa[x];</span><br><span class="line">        <span class="comment">//返回父节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fa[<span class="built_in">find</span>(i)] = <span class="built_in">find</span>(j);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">init</span>();</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> t;</span><br><span class="line">        cin&gt;&gt;t;</span><br><span class="line">        t=<span class="built_in">find</span>(t);</span><br><span class="line">        cout&lt;&lt;t&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="built_in">merge</span>(t,t+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Python 描述：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Maxn = <span class="number">2000000</span></span><br><span class="line"><span class="comment"># 假设所需的数量为200</span></span><br><span class="line">fa = []</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(Maxn + <span class="number">1</span>):</span><br><span class="line">        fa.append(i)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">if</span> fa[x] == x:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        fa[x] = find(fa[x]);</span><br><span class="line">        <span class="comment">#父节点设为根节点</span></span><br><span class="line">        <span class="keyword">return</span>  fa[x]</span><br><span class="line">        <span class="comment"># 返回父节点</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">x,y</span>):</span><br><span class="line">    fa[find(x)] = find(y)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line"></span><br><span class="line">    n=<span class="built_in">input</span>()</span><br><span class="line">    A=<span class="built_in">input</span>().split()</span><br><span class="line">    A=<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>,A))</span><br><span class="line">    Maxn=<span class="built_in">len</span>(A)+<span class="number">100</span></span><br><span class="line">    init()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(A)):</span><br><span class="line"></span><br><span class="line">        t=find(A[i])</span><br><span class="line">        <span class="built_in">print</span>(t,end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">        merge(t,t+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>Java 描述：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">static</span>  <span class="type">int</span> Maxn=<span class="number">1000005</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> fa[];</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span> ;i&lt;=Maxn;i++)</span><br><span class="line">            fa[i]=i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span>  <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> x)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(x == fa[x])</span><br><span class="line">            <span class="keyword">return</span> x;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            fa[x] = find(fa[x]);</span><br><span class="line">            <span class="comment">//父节点设为根节点</span></span><br><span class="line">            <span class="keyword">return</span> fa[x];</span><br><span class="line">            <span class="comment">//返回父节点</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span></span><br><span class="line">    &#123;</span><br><span class="line">        fa[find(i)] = find(j);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> n,m; <span class="comment">//n行，m列</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> k; <span class="comment">//k次合根</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        n=in.nextInt();</span><br><span class="line">        fa=<span class="keyword">new</span> <span class="title class_">int</span>[Maxn+<span class="number">100</span>];</span><br><span class="line">        init();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>; i&lt;=n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> t;</span><br><span class="line">            t=in.nextInt();</span><br><span class="line">            t=find(t);</span><br><span class="line">            System.out.print(t+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            merge(t,t+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>并查集的思想非常简单，但是我们也看到了题目有点复杂，稍微一点改变就是另一种方向。并查集代码实现非常简单，但重点还是看对于题目的把握，这个数据结构不仅直接出题目，并且也会杂糅到别的算法里面，所以他的应用非常广泛，需要我们牢牢地掌握。</p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 2914598428@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">💰</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2024 zdx
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
